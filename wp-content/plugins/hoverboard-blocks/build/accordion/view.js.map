{"version":3,"file":"accordion/view.js","mappings":"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","sources":["webpack://hoverboard-blocks/./src/accordion/view.js"],"sourcesContent":["const accordions = document.querySelectorAll(\".accordion\");\nconst accordionContent = Array.from(accordions).map((accordion) =>\n\taccordion.querySelectorAll(\".accordion__content\")\n);\n\naccordions.forEach((accordion) => addButtonsToHeadings(accordion));\naccordionContent.forEach((elements) => initializeAccordionContent(elements));\n\nfunction initializeAccordionContent(elements, index) {\n\treturn elements.forEach((element, index) =>\n\t\ttoggleFirstAccordionContent(element, index)\n\t);\n}\n\nfunction toggleFirstAccordionContent(element, index) {\n\tconst toggle = element.parentElement.parentElement.dataset.hbAccordionOpen;\n\treturn toggle === \"open\" && index === 0\n\t\t? toggleAriaAttribute(element, \"aria-hidden\", \"false\")\n\t\t: toggleAriaAttribute(element, \"aria-hidden\", \"true\");\n}\n\nfunction addButtonsToHeadings(element) {\n\tconst headings = element.querySelectorAll(\".accordion__heading\");\n\treturn Array.from(headings).map(addButtonToHeading);\n}\n\nfunction addButtonToHeading(heading, index) {\n\tconst buttonText = heading.textContent;\n\tlet newButton = document.createElement(\"button\");\n\n\tindex += 1;\n\theading.innerHTML = \"\";\n\tnewButton.setAttribute(\"type\", \"button\");\n\tnewButton.classList.add(\"accordion__trigger\");\n\tnewButton.addEventListener(\"click\", accordionEventHandler, false);\n\theading.appendChild(newButton);\n\tnewButton.appendChild(document.createTextNode(buttonText));\n\ttoggleAriaAttribute(newButton, \"aria-expanded\", \"false\");\n\n\treturn heading;\n}\n\nfunction accordionEventHandler(event) {\n\tevent.preventDefault();\n\n\tconst accordion = event.target.parentElement.parentElement.parentElement;\n\tconst allAccordionContent = accordion.querySelectorAll(\".accordion__content\");\n\tconst parentAccordionContent = event.target.parentElement.nextElementSibling;\n\tconst type = accordion.dataset.hbAccordion;\n\treturn type === \"default\"\n\t\t? toggleAccordionContent(parentAccordionContent)\n\t\t: toggleFlushAccordionContent(parentAccordionContent, allAccordionContent);\n}\n\nfunction toggleAriaAttribute(element, attribute, state) {\n\treturn element.setAttribute(attribute, state);\n}\n\nfunction toggleAccordionContent(element) {\n\tconst state = element.getAttribute(\"aria-hidden\");\n\treturn state === \"false\"\n\t\t? toggleAriaAttribute(element, \"aria-hidden\", \"true\")\n\t\t: toggleAriaAttribute(element, \"aria-hidden\", \"false\");\n}\n\nfunction toggleFlushAccordionContent(parent, elements) {\n\tconst state = parent.getAttribute(\"aria-hidden\");\n\n\tif (state === \"false\") {\n\t\telements.forEach((element) =>\n\t\t\ttoggleAriaAttribute(element, \"aria-hidden\", \"true\")\n\t\t);\n\t} else {\n\t\telements.forEach((element) =>\n\t\t\ttoggleAriaAttribute(element, \"aria-hidden\", \"true\")\n\t\t);\n\t\ttoggleAriaAttribute(parent, \"aria-hidden\", \"false\");\n\t}\n}\n"],"names":["accordions","document","querySelectorAll","accordionContent","Array","from","map","accordion","forEach","addButtonsToHeadings","elements","initializeAccordionContent","index","element","toggleFirstAccordionContent","toggle","parentElement","dataset","hbAccordionOpen","toggleAriaAttribute","headings","addButtonToHeading","heading","buttonText","textContent","newButton","createElement","innerHTML","setAttribute","classList","add","addEventListener","accordionEventHandler","appendChild","createTextNode","event","preventDefault","target","allAccordionContent","parentAccordionContent","nextElementSibling","type","hbAccordion","toggleAccordionContent","toggleFlushAccordionContent","attribute","state","getAttribute","parent"],"sourceRoot":""}