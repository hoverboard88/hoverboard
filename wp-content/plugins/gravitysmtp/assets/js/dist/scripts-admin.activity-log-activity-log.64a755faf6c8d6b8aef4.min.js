"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[628,812],{59238:function(e,t,a){a.r(t);var i=a(88856),r=a(8140),n=a(58449),o=a(97867),c=a(62825),s=a(84860),l=a(3258),m=a(64688),d=a(72695),p=a(16954),u=a(23664),v=a(52217),f=a(98895),g=["simpleBarRef"];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,i.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=o.React.useRef,b=o.ReactRouter.BrowserRouter,h=o.ReactRouter.Routes,R=o.ReactRouter.Route,E=o.ReactRouter.useSearchParams,O=(o.ReactRouter.useLocation,function(e){return o.React.createElement(p.default,e)}),P=function(e){var t=e.simpleBarRef,a=(0,n.A)(e,g),i=E(),c=(0,r.A)(i,2),s=c[0],l=(c[1],s.get(a.data.nav_item_param_key||"tab")||"activity-log");switch(t.current&&(t.current.scrollTop=0),l){case"activity-log":return o.React.createElement(u.default,a);case"log-details":return o.React.createElement(v.default,a);default:return null}};t.default=function(e){var t=e.data,a=e.endpoints,i=e.i18n,r=e.common,n=t.route_path.replace(window.location.origin,""),p=w(),u={confirmButtonType:(0,f.default)((function(e){return e.confirmDialogConfirmButtonType})),i18n:_(_({},(null==r?void 0:r.i18n)||{}),(0,f.default)((function(e){return e.confirmDialogI18n}))),isOpen:(0,f.default)((function(e){return e.confirmDialogOpen})),onCancel:(0,f.default)((function(e){return e.confirmDialogOnCancel})),onConfirm:(0,f.default)((function(e){return e.confirmDialogOnConfirm}))};return o.React.createElement(b,null,o.React.createElement(s.n,{defaultSettings:{errorIconAttributes:{icon:"exclamation-simple",iconPrefix:"gravitysmtp-admin-icon"},successIconAttributes:{icon:"correct",iconPrefix:"gravitysmtp-admin-icon"}}},o.React.createElement("div",{className:"gravitysmtp-app__wrapper"},o.React.createElement(c.A,{customClasses:["gravitysmtp-activity-log-app"],Header:O,simpleBarRef:p,common:r,data:t,i18n:i},o.React.createElement("div",{className:"gravitysmtp-activity-log-app__content"},o.React.createElement(h,null,o.React.createElement(R,{path:n,element:o.React.createElement(P,{data:t,endpoints:a,i18n:i,common:r,simpleBarRef:p})})))),o.React.createElement(m.default,{data:t,common:r,i18n:i}),o.React.createElement(d.default,{data:t,common:r,i18n:i}),o.React.createElement(l.A,u))))}},64688:function(e,t,a){a.r(t);var i=a(71860),r=a(90455),n=a(88856),o=a(8140),c=a(78564),s=a.n(c),l=a(27122),m=a.n(l),d=a(97867),p=a(60177),u=a(71376),v=a(80509),f=a(29549),g=a(48959),y=a(84860),_=a(83707),w=a(93313),b=a(98895);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=d.React.forwardRef,O=d.React.useState,P=d.ReactRouter.useLocation,j=d.ReactRouter.useNavigate,A=E((function(e,t){var a,n,c=e.customAttributes,l=void 0===c?{}:c,h=e.customClasses,E=void 0===h?[]:h,A=e.common,C=void 0===A?{}:A,N=e.data,T=void 0===N?{}:N,k=e.i18n,x=void 0===k?{}:k,D=j(),S=P(),z=(0,b.default)((function(e){return e.deleteEventDialogOpen})),B=(0,b.default)((function(e){return e.setDeleteEventDialogOpen})),H=(0,b.default)((function(e){return e.deletingEventId})),I=(0,b.default)((function(e){return e.setDeletingEventId})),L=O(!1),M=(0,o.A)(L,2),F=M[0],J=M[1],V=(0,y.dh)(),W=(null==C||null===(a=C.endpoints)||void 0===a||null===(a=a.delete_email)||void 0===a?void 0:a.action)||"",U=(null==C||null===(n=C.endpoints)||void 0===n||null===(n=n.delete_email)||void 0===n?void 0:n.nonce)||"",q=((null==C?void 0:C.i18n)||{}).snackbar_email_log_delete_error,G=void 0===q?"":q,K=x.confirm_delete_email_heading,Q=void 0===K?"":K,X=x.confirm_delete_email_content,Y=void 0===X?"":X,Z=x.confirm_delete_email_delete,$=void 0===Z?"":Z,ee=x.confirm_delete_email_cancel,te=void 0===ee?"":ee,ae=x.debug_messages,ie=void 0===ae?{}:ae,re=ie.deleting_single_activity_log,ne=void 0===re?"":re,oe=ie.deleting_single_activity_log_error,ce=void 0===oe?"":oe,se=R({className:(0,d.classnames)({"gravitysmtp-delete-email":!0},E)},l),le=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=new URLSearchParams(S.search),i=T.nav_item_param_key||"tab";if("activity-log"!==a.get(i))if(a.delete("event_id"),a.set(i,"activity-log"),"activity-log"===(null==S||null===(e=S.state)||void 0===e?void 0:e.previous)){if(!t)return void D(-1);window.location.href="".concat(S.pathname,"?").concat(a.toString())}else{if(!t){var r=R(R({},S),{},{search:"?".concat(a.toString())});D(r,{state:{previous:"log-details"}})}window.location.href="".concat(S.pathname,"?").concat(a.toString())}else t&&window.location.reload()},me={onCloseAfterAnimation:function(){I(0),J(!1)},closeOnMaskClick:!1,customWrapperClasses:["gravitysmtp-delete-activity__dialog"],customCloseButtonLabelAttributes:{className:(0,d.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:Y,isOpen:z,maskTheme:"light",maxHeight:"90vh",mode:"modal",padContent:!1,position:"absolute",showCloseButton:!1,theme:"cosmos",title:Q},de=function(){var e=(0,r.A)(s().mark((function e(){var t,a,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),t={action:W,security:U,event_id:H},e.next=4,(0,_.A)((0,u.nv)(ne,JSON.stringify((0,w.A)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,p.bE)({endpoint:m(),body:t});case 7:null!=(i=e.sent)&&null!==(a=i.data)&&void 0!==a&&a.success?V(null==i||null===(r=i.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message):V(G,"error"),B(!1),le(!0),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),V(e.t0.message,"error"),e.next=18,(0,_.A)((0,u.nv)(ce,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return d.React.createElement("div",(0,i.A)({},se,{ref:t}),d.React.createElement(g.A,me,d.React.createElement(f.A,{container:!0,customClasses:["gravitysmtp-delete-activity__dialog-actions"],justifyContent:"flex-start",columnSpacing:3,spacing:[8,0,0,0],type:"fluid"},d.React.createElement(f.A,{item:!0,width:6},d.React.createElement(v.A,{label:te,onClick:function(){return B(!1)},type:"white",width:"full"})),d.React.createElement(f.A,{item:!0,width:6},d.React.createElement(v.A,{active:F,activeType:"loader",label:$,onClick:de,width:"full"})))))}));A.propTypes={customAttributes:d.PropTypes.object,customClasses:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.array,d.PropTypes.object]),common:d.PropTypes.object,data:d.PropTypes.object,i18n:d.PropTypes.object},t.default=A},16954:function(e,t,a){a.r(t);var i=a(71860),r=a(88856),n=a(97867),o=a(10997),c=a(30242),s=a(43632);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var m=(0,n.React.forwardRef)((function(e,t){var a=e.customAttributes,m=void 0===a?{}:a,d=e.customClasses,p=void 0===d?[]:d,u=e.common,v=void 0===u?{}:u,f=e.showModes,g=void 0===f||f,y=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,n.classnames)({"gravitysmtp-activity-log-app__header":!0},p)},m),_=v.data,w=void 0===_?{}:_,b=w.debug_log_enabled,h=void 0!==b&&b,R=w.test_mode_enabled,E=void 0!==R&&R,O=v.i18n,P=void 0===O?{}:O,j=P.debug_log_enabled,A=void 0===j?"":j,C=P.test_mode_enabled,N=void 0===C?"":C;return n.React.createElement("div",(0,i.A)({},y,{ref:t}),n.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-main"},n.React.createElement("div",{className:"gravitysmtp-activity-log-app__header-logo"},n.React.createElement(o.A,{height:22,width:220})),g&&n.React.createElement(c.A,{customClasses:["gravitysmtp-header__status"],setDisplay:!1},h&&n.React.createElement(s.A,{status:"warning",size:"sm",spacing:[0,E?4:0,0,0],label:A,isStatic:!0}),E&&n.React.createElement(s.A,{status:"blue",size:"sm",label:N,isStatic:!0}))))}));m.propTypes={customAttributes:n.PropTypes.object,customClasses:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.array,n.PropTypes.object])},m.displayName="ActivityLogHeader",t.default=m},72695:function(e,t,a){a.r(t);var i=a(71860),r=a(88856),n=a(8140),o=a(97867),c=a(62825),s=a(16954),l=a(48959),m=a(15635),d=a(32722),p=a(80509),u=a(5529),v=a(25980),f=a(66598),g=a(98895);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var _=o.React.forwardRef,w=o.React.useEffect,b=o.React.useState,h=function(e){var t=e.wrapperClasses,a=void 0===t?[]:t,i=e.dot,r=void 0===i||i,n=e.width,c=void 0===n?"62px":n,s={className:(0,o.classnames)(["gravitysmtp-view-email__placeholder-stripe"],a)};return o.React.createElement("div",s,r&&o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-dot"}),o.React.createElement("span",{className:"gravitysmtp-view-email__placeholder-stripe-line",style:{width:c}}))},R=_((function(e,t){var a,_,R=e.customAttributes,E=void 0===R?{}:R,O=e.customClasses,P=void 0===O?[]:O,j=e.common,A=void 0===j?{}:j,C=e.data,N=void 0===C?{}:C,T=e.i18n,k=void 0===T?{}:T,x=(0,g.default)((function(e){return e.viewEmailDialogOpen})),D=(0,g.default)((function(e){return e.setViewEmailDialogOpen})),S=(0,g.default)((function(e){return e.viewEmailEventId})),z=(0,g.default)((function(e){return e.viewEmailEventIsHtml})),B=(0,g.default)((function(e){return e.viewEmailEventDate})),H=(0,g.default)((function(e){return e.viewEmailEventFromHash})),I=(0,g.default)((function(e){return e.viewEmailEventFrom})),L=(0,g.default)((function(e){return e.viewEmailEventTo})),M=(0,g.default)((function(e){return e.viewEmailEventTitle})),F=(0,g.default)((function(e){return e.setViewEmailEventProperties})),J=b(!1),V=(0,n.A)(J,2),W=V[0],U=V[1],q=b("desktop"),G=(0,n.A)(q,2),K=G[0],Q=G[1],X=(null==A||null===(a=A.endpoints)||void 0===a||null===(a=a.get_email_message)||void 0===a?void 0:a.action)||"",Y=(null==A||null===(_=A.endpoints)||void 0===_||null===(_=_.get_email_message)||void 0===_?void 0:_.nonce)||"",Z="".concat(null==N?void 0:N.ajax_url,"?action=").concat(X,"&security=").concat(Y,"&event_id=").concat(S),$=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,o.classnames)({"gravitysmtp-view-email":!0},P)},E),ee={className:(0,o.classnames)({"gravitysmtp-view-email__sidebar-container":!0,"gravitysmtp-view-email__sidebar-container--loading":W})},te={className:(0,o.classnames)((0,r.A)({"gravitysmtp-view-email__container":!0,"gravitysmtp-view-email__container--html-mode":z},"gravitysmtp-view-email__container--".concat(K,"-mode"),!0))},ae=(null==k?void 0:k.log_detail)||{},ie=ae.main_box_from_label,re=ae.main_box_to_label,ne=ae.view_email_desktop_mode,oe=ae.view_email_mobile_mode;w((function(){x&&U(!0),Q("desktop")}),[x]);var ce={closeButtonType:"simplified",onCloseAfterAnimation:function(){F({date:"",isHtml:!1,id:0,fromHash:"",from:"",to:"",title:""}),D(!1)},customWrapperClasses:["gravitysmtp-view-email__dialog"],customMaskClasses:["gravitysmtp-view-email__mask"],customCloseButtonLabelAttributes:{className:(0,o.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:"",isOpen:x,maskTheme:"light",mode:"modal",padContent:!1,position:"absolute",theme:"cosmos",version:2,zIndex:100001},se=[62,62,55,81,81,55],le={className:(0,o.classnames)({"gravitysmtp-view-email__header-details-meta":!0,"gravitysmtp-view-email__header-details-meta--loading":W})};return o.React.createElement("div",(0,i.A)({},$,{ref:t}),o.React.createElement(l.A,ce,o.React.createElement(c.A,{customClasses:["gravitysmtp-view-email-layout"],Header:function(e){return o.React.createElement(s.default,(0,i.A)({},e,{showModes:!1}))},PrimarySideBarChildren:function(){return o.React.createElement("div",ee,se.map((function(e,t){return o.React.createElement(h,{key:"stripe-".concat(t,"-").concat(e),width:"".concat(e,"px")})})))},data:N,simplebarContent:!1},o.React.createElement("div",te,o.React.createElement("div",{className:"gravitysmtp-view-email__header"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title-wrapper"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-title"},""!==M&&!W&&o.React.createElement(u.A,{customClasses:["gravitysmtp-view-email__header-title-subject"],tagName:"h2",size:"text-xl",weight:"medium",content:M}),W&&o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"35%"})),!W&&o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-actions"},o.React.createElement(p.A,{icon:"desktop",iconPrefix:"gravitysmtp-admin-icon",label:ne,onClick:function(){return Q("desktop")},size:"size-height-s",spacing:[0,3,0,0],type:"icon-white"}),o.React.createElement(p.A,{icon:"mobile",iconPrefix:"gravitysmtp-admin-icon",label:oe,onClick:function(){return Q("mobile")},size:"size-height-s",type:"icon-white"}))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-left"},o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-image"},o.React.createElement(v.A,{customClasses:["gravitysmtp-view-email__header-details-default"],icon:"account",iconPrefix:"gravitysmtp-admin-icon"}),""!==H&&o.React.createElement(m.A,{customClasses:["gravitysmtp-view-email__header-details-gravatar"],emailHash:H,height:40,width:40,defaultImage:"blank"})),o.React.createElement("div",le,W&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from gravitysmtp-view-email__header-details-from--has-loader"},o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"75%"})),W&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(h,{wrapperClasses:["gravitysmtp-view-email__placeholder-stripe--loading"],dot:!1,width:"45%"})),!W&&""!==I&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-from"},o.React.createElement(f.A,{tagName:"span",size:"text-sm",weight:"semibold",content:ie})," ",o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:I})),!W&&""!==L&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-to"},o.React.createElement(f.A,{weight:"semibold",tagName:"span",size:"text-sm",content:re})," ",o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-sm",content:L})))),o.React.createElement("div",{className:"gravitysmtp-view-email__header-details-right"},!W&&""!==B&&o.React.createElement("span",{className:"gravitysmtp-view-email__header-details-date"},o.React.createElement(f.A,{customClasses:["gravitysmtp-view-email__header-details--comet"],tagName:"span",size:"text-xs",content:B}))))),o.React.createElement("div",{className:"gravitysmtp-view-email__wrapper"},W&&o.React.createElement(d.A,{loaderCustomAttributes:{mask:!0,maskCustomClasses:["gravitysmtp-view-email__iframe-loader-mask"]}}),0!==S&&o.React.createElement("iframe",{className:"gravitysmtp-view-email__iframe",onLoad:function(){U(!1)},title:M,src:Z}))))))}));R.propTypes={customAttributes:o.PropTypes.object,customClasses:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.array,o.PropTypes.object]),common:o.PropTypes.object,data:o.PropTypes.object,i18n:o.PropTypes.object},t.default=R}}]);