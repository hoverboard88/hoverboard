"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[656,6793,6961],{64688:function(e,t,n){n.r(t);var i=n(71860),o=n(90455),r=n(88856),a=n(8140),l=n(78564),c=n.n(l),u=n(27122),s=n.n(u),v=n(97867),d=n(60177),m=n(71376),f=n(80509),p=n(29549),g=n(48959),y=n(84860),E=n(83707),_=n(93313),b=n(98895);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=v.React.forwardRef,D=v.React.useState,C=v.ReactRouter.useLocation,A=v.ReactRouter.useNavigate,j=O((function(e,t){var n,r,l=e.customAttributes,u=void 0===l?{}:l,w=e.customClasses,O=void 0===w?[]:w,j=e.common,T=void 0===j?{}:j,P=e.data,k=void 0===P?{}:P,R=e.i18n,I=void 0===R?{}:R,x=A(),S=C(),H=(0,b.default)((function(e){return e.deleteEventDialogOpen})),B=(0,b.default)((function(e){return e.setDeleteEventDialogOpen})),N=(0,b.default)((function(e){return e.deletingEventId})),F=(0,b.default)((function(e){return e.setDeletingEventId})),L=D(!1),z=(0,a.A)(L,2),J=z[0],V=z[1],M=(0,y.dh)(),U=(null==T||null===(n=T.endpoints)||void 0===n||null===(n=n.delete_email)||void 0===n?void 0:n.action)||"",W=(null==T||null===(r=T.endpoints)||void 0===r||null===(r=r.delete_email)||void 0===r?void 0:r.nonce)||"",q=((null==T?void 0:T.i18n)||{}).snackbar_email_log_delete_error,G=void 0===q?"":q,K=I.confirm_delete_email_heading,Q=void 0===K?"":K,X=I.confirm_delete_email_content,Y=void 0===X?"":X,Z=I.confirm_delete_email_delete,$=void 0===Z?"":Z,ee=I.confirm_delete_email_cancel,te=void 0===ee?"":ee,ne=I.debug_messages,ie=void 0===ne?{}:ne,oe=ie.deleting_single_activity_log,re=void 0===oe?"":oe,ae=ie.deleting_single_activity_log_error,le=void 0===ae?"":ae,ce=h({className:(0,v.classnames)({"gravitysmtp-delete-email":!0},O)},u),ue=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new URLSearchParams(S.search),i=k.nav_item_param_key||"tab";if("activity-log"!==n.get(i))if(n.delete("event_id"),n.set(i,"activity-log"),"activity-log"===(null==S||null===(e=S.state)||void 0===e?void 0:e.previous)){if(!t)return void x(-1);window.location.href="".concat(S.pathname,"?").concat(n.toString())}else{if(!t){var o=h(h({},S),{},{search:"?".concat(n.toString())});x(o,{state:{previous:"log-details"}})}window.location.href="".concat(S.pathname,"?").concat(n.toString())}else t&&window.location.reload()},se={onCloseAfterAnimation:function(){F(0),V(!1)},closeOnMaskClick:!1,customWrapperClasses:["gravitysmtp-delete-activity__dialog"],customCloseButtonLabelAttributes:{className:(0,v.classnames)({"gform-button__icon":!0,"gravitysmtp-admin-icon":!0,"gravitysmtp-admin-icon--x":!0})},description:Y,isOpen:H,maskTheme:"light",maxHeight:"90vh",mode:"modal",padContent:!1,position:"absolute",showCloseButton:!1,theme:"cosmos",title:Q},ve=function(){var e=(0,o.A)(c().mark((function e(){var t,n,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),t={action:U,security:W,event_id:N},e.next=4,(0,E.A)((0,m.nv)(re,JSON.stringify((0,_.A)(["security"],t))),"info");case 4:return e.prev=4,e.next=7,(0,d.bE)({endpoint:s(),body:t});case 7:null!=(i=e.sent)&&null!==(n=i.data)&&void 0!==n&&n.success?M(null==i||null===(o=i.data)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.message):M(G,"error"),B(!1),ue(!0),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),M(e.t0.message,"error"),e.next=18,(0,E.A)((0,m.nv)(le,JSON.stringify(e.t0)),"error");case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return v.React.createElement("div",(0,i.A)({},ce,{ref:t}),v.React.createElement(g.A,se,v.React.createElement(p.A,{container:!0,customClasses:["gravitysmtp-delete-activity__dialog-actions"],justifyContent:"flex-start",columnSpacing:3,spacing:[8,0,0,0],type:"fluid"},v.React.createElement(p.A,{item:!0,width:6},v.React.createElement(f.A,{label:te,onClick:function(){return B(!1)},type:"white",width:"full"})),v.React.createElement(p.A,{item:!0,width:6},v.React.createElement(f.A,{active:J,activeType:"loader",label:$,onClick:ve,width:"full"})))))}));j.propTypes={customAttributes:v.PropTypes.object,customClasses:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.array,v.PropTypes.object]),common:v.PropTypes.object,data:v.PropTypes.object,i18n:v.PropTypes.object},t.default=j},98895:function(e,t,n){n.r(t);var i,o,r=n(40450),a=n.n(r),l=n(48757),c=(null===(i=(0,n(71376).zj)(a(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.activity_log)||{},u={confirmDialogConfirmButtonType:"primary-new",confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,logDetail:(null==c||null===(o=c.data)||void 0===o?void 0:o.log_detail)||{},deleteEventDialogOpen:!1,deletingEventId:0,viewEmailDialogOpen:!1,viewEmailEventId:0,viewEmailEventIsHtml:!1,viewEmailEventDate:"",viewEmailEventFromHash:"",viewEmailEventFrom:"",viewEmailEventTo:"",viewEmailEventTitle:""},s=(0,l.vt)(u,(function(e){return{setConfirmDialogOpen:function(t){return e((function(){return{confirmDialogOpen:t}}))},setConfirmDialogSettings:function(t){var n=t.confirmDialogConfirmButtonType,i=void 0===n?"primary-new":n,o=t.confirmDialogI18n,r=void 0===o?{}:o,a=t.confirmDialogOpen,l=void 0!==a&&a,c=t.confirmDialogOnCancel,u=void 0===c?function(){}:c,s=t.confirmDialogOnClose,v=void 0===s?function(){}:s,d=t.confirmDialogOnConfirm,m=void 0===d?function(){}:d;e((function(){return{confirmDialogConfirmButtonType:i,confirmDialogI18n:r,confirmDialogOpen:l,confirmDialogOnCancel:u,confirmDialogOnClose:v,confirmDialogOnConfirm:m}}))},setDeleteEventDialogOpen:function(t){return e({deleteEventDialogOpen:t})},setDeletingEventId:function(t){return e({deletingEventId:t})},setLogDetail:function(t){return e({logDetail:t})},setViewEmailDialogOpen:function(t){return e({viewEmailDialogOpen:t})},setViewEmailEventProperties:function(t){return e({viewEmailEventId:t.id,viewEmailEventIsHtml:t.isHtml,viewEmailEventDate:t.date,viewEmailEventFromHash:t.fromHash,viewEmailEventFrom:t.from,viewEmailEventTo:t.to,viewEmailEventTitle:t.title})}}}));t.default=s},83707:function(e,t,n){n.d(t,{A:function(){return m}});var i,o=n(90455),r=n(78564),a=n.n(r),l=n(27122),c=n.n(l),u=n(40450),s=n.n(u),v=n(60177),d=(null===(i=(0,n(71376).zj)(s(),"gravitysmtp_admin_config"))||void 0===i?void 0:i.common)||{};function m(){return f.apply(this,arguments)}function f(){return f=(0,o.A)(a().mark((function e(){var t,n,i,o,r,l,u,s,m,f,p=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=p.length>0&&void 0!==p[0]?p[0]:"",o=p.length>1&&void 0!==p[1]?p[1]:"debug",r=d.data,l=void 0===r?{}:r,u=d.endpoints,m=(null==(s=void 0===u?{}:u)||null===(t=s.log_debug_item)||void 0===t?void 0:t.action)||"",f=(null==s||null===(n=s.log_debug_item)||void 0===n?void 0:n.nonce)||"",null!=l&&l.debug_log_enabled&&m&&f&&i){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,v.bE)({endpoint:c(),body:{action:m,security:f,message:i,priority:o}}).catch((function(e){}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},93313:function(e,t,n){var i=n(52888),o=n(8140);t.A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",n=function(r){return Object.entries(r).reduce((function(r,a){var l=(0,o.A)(a,2),c=l[0],u=l[1];return"object"===(0,i.A)(u)&&null!==u?r[c]=n(u):e.includes(c)?r[c]=null===u?null:t.repeat(u.length):r[c]=u,r}),Array.isArray(r)?[]:{})};return n(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);