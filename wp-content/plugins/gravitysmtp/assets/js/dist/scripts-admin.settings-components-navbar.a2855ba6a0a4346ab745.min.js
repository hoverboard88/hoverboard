"use strict";(self.webpackChunkgravitysmtp=self.webpackChunkgravitysmtp||[]).push([[3348,4688],{52166:function(t,n,e){e.r(n);var i=e(71860),o=e(88856),r=e(90455),a=e(78564),s=e.n(a),u=e(97867),c=e(8412),l=e(59092);function f(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function d(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?f(Object(e),!0).forEach((function(n){(0,o.A)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var g=u.React.forwardRef,p=u.React.useEffect,m=u.ReactRouter.useLocation,v=u.ReactRouter.useNavigate,y=g((function(t,n){var e=t.customAttributes,o=void 0===e?{}:e,a=t.customClasses,f=void 0===a?[]:a,g=t.data,y=void 0===g?{}:g,b=t.disabledNavItems,O=void 0===b?[]:b,D=t.i18n,_=void 0===D?{}:D,C=y.nav_items,P=void 0===C?[]:C,h=m(),F=v(),j=(0,l.default)((function(t){return t.settingsNavBlocked})),w=(0,l.default)((function(t){return t.setSettingsNavBlocked})),S=(0,l.default)((function(t){return t.setConfirmDialogSettings})),E=(0,l.default)((function(t){return t.setConfirmDialogOpen})),k=_||{},T=k.unsaved_changes_title,I=void 0===T?"":T,A=k.unsaved_changes_message,N=void 0===A?"":A;p((function(){var t=function(t){j&&(t.preventDefault(),t.returnValue="")};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[j]);var B=P.filter((function(t){return!O.includes(t.param)})).map((function(t,n){var e=t.param,i=t.label,o=t.icon,r={item:{customClasses:["gravitysmtp-settings-app__nav-bar-item","gravitysmtp-settings-app__nav-bar-item--".concat(e)],key:"".concat(e,"-").concat(n)},icon:{customClasses:["gravitysmtp-settings-app__nav-bar-item-icon"],icon:o,iconPrefix:"gravitysmtp-admin-icon"},text:{content:i,customClasses:["gravitysmtp-settings-app__nav-bar-item-text"]}};if(O.includes(e))return d(d({},r),{},{item:d(d({},r.item),{},{active:!1,disabled:!0}),button:{customClasses:["gravitysmtp-settings-app__nav-bar-item-button","gravitysmtp-settings-app__nav-bar-item-button--".concat(e)],size:"size-height-m",type:"icon-white",disabled:!0}});var a=new URLSearchParams(h.search),s=y.nav_item_param_key||"tab",u=a.get(s);a.set(s,e);var c=d(d({},h),{},{search:"?".concat(a.toString())});return d(d({},r),{},{item:d(d({},r.item),{},{active:u===e}),link:{customClasses:["gravitysmtp-settings-app__nav-bar-item-link","gravitysmtp-settings-app__nav-bar-item-link--".concat(e)],to:c}})})),L=d({customClasses:(0,u.classnames)(["gravitysmtp-settings-app__nav-bar"],f),handleNavigationBlocked:function(t){var n;S({confirmDialogI18n:{confirm_change_content:N,confirm_change_heading:I},confirmDialogOpen:!0,confirmDialogOnCancel:function(){return E(!1)},confirmDialogOnClose:function(){return E(!1)},confirmDialogOnConfirm:(n=(0,r.A)(s().mark((function n(){var e,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:w(!1),E(!1),e=new URL(t),i=e.pathname+e.search,F(i);case 5:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})})},items:B,type:"icon-button",navigationBlocked:j},o);return u.React.createElement(c.A,(0,i.A)({},L,{ref:n}))}));y.propTypes={children:u.PropTypes.oneOfType([u.PropTypes.arrayOf(u.PropTypes.node),u.PropTypes.node]),customAttributes:u.PropTypes.object,customClasses:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.array,u.PropTypes.object])},y.displayName="NavBar",n.default=y},59092:function(t,n,e){e.r(n);var i,o,r,a,s,u,c,l=e(88856),f=e(40450),d=e.n(f),g=e(97867),p=e(78327),m=e(21713);function v(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function y(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?v(Object(e),!0).forEach((function(n){(0,l.A)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var b,O,D,_,C=(null===(i=(0,m.zj)(d(),"gravitysmtp_admin_config"))||void 0===i||null===(i=i.components)||void 0===i?void 0:i.settings)||{},P=(null===(o=(0,m.zj)(d(),"gravitysmtp_admin_config"))||void 0===o?void 0:o.common)||{},h={activeIntegrationId:(_=null==C||null===(D=C.data)||void 0===D||null===(D=D.integrations)||void 0===D?void 0:D.find((function(t){var n;return null==t||null===(n=t.data)||void 0===n?void 0:n.enabled})),(null==_?void 0:_.id)||""),confirmDialogI18n:{},confirmDialogOnCancel:function(){},confirmDialogOnClose:function(){},confirmDialogOnConfirm:function(){},confirmDialogOpen:!1,confirmDialogConfirmButtonType:"primary-new",debugLogEnabled:(null==P||null===(r=P.data)||void 0===r?void 0:r.debug_log_enabled)||!1,notificationsEmailDigestEnabled:(null==C||null===(a=C.data)||void 0===a?void 0:a.notifications_settings.email_digest_enabled)||!1,experimentalFeatures:(null==P||null===(s=P.data)||void 0===s?void 0:s.experimental_features)||{},integrations:(null==C||null===(u=C.data)||void 0===u?void 0:u.integrations)||[],integrationsFlyoutState:{screen:1},integrationSettingsFormData:(O={},null==C||null===(b=C.data)||void 0===b||null===(b=b.integrations)||void 0===b||b.forEach((function(t){O[t.id]=(null==t?void 0:t.data)||{}})),O),noticeDialogOpen:!1,pageLoaderActive:!1,settingsFlyoutChildren:null,settingsFlyoutProps:{},settingsNavBlocked:!1,testModeEnabled:(null==P||null===(c=P.data)||void 0===c?void 0:c.test_mode_enabled)||!1},F=(0,p.vt)(h,(function(t){return{setActiveIntegrationId:function(n){return t((function(){return{activeIntegrationId:n}}))},setConfirmDialogOpen:function(n){return t((function(){return{confirmDialogOpen:n}}))},setConfirmDialogSettings:function(n){var e=n.confirmDialogCustomAttributes,i=void 0===e?{}:e,o=n.confirmDialogI18n,r=void 0===o?{}:o,a=n.confirmDialogOpen,s=void 0!==a&&a,u=n.confirmDialogOnCancel,c=void 0===u?function(){}:u,l=n.confirmDialogOnClose,f=void 0===l?function(){}:l,d=n.confirmDialogOnConfirm,g=void 0===d?function(){}:d,p=n.confirmDialogConfirmButtonType,m=void 0===p?"primary-new":p;t((function(){return{confirmDialogCustomAttributes:i,confirmDialogConfirmButtonType:m,confirmDialogI18n:r,confirmDialogOpen:s,confirmDialogOnCancel:c,confirmDialogOnClose:f,confirmDialogOnConfirm:g}}))},setExperimentalFeatures:function(n,e){return t((function(t){return{experimentalFeatures:y(y({},t.experimentalFeatures),{},(0,l.A)({},n,e))}}))},setIntegrationsFlyoutState:function(n){return t((function(){return{integrationsFlyoutState:n}}))},setNoticeDialogOpen:function(n){return t((function(){return{noticeDialogOpen:n}}))},setNotificationsEmailDigestEnabled:function(n){return t((function(){return{notificationsEmailDigestEnabled:n}}))},setPageLoaderActive:function(n){return t((function(){return{pageLoaderActive:n}}))},setIntegrationSettingsFormData:function(n,e,i){return t((0,g.immer)((function(t){t.integrationSettingsFormData[n]||(t.integrationSettingsFormData[n]={}),t.integrationSettingsFormData[n][e]=i})))},setDebugLogEnabled:function(n){return t((function(){return{debugLogEnabled:n}}))},setSettingsFlyout:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t((function(t){return{settingsFlyoutProps:n,settingsFlyoutChildren:void 0===e?t.settingsFlyoutChildren:e}}))},setSettingsFlyoutClosed:function(){return t((function(t){return{settingsFlyoutProps:y(y({},t.settingsFlyoutProps),{},{isOpen:!1})}}))},setSettingsNavBlocked:function(n){return t((function(){return{settingsNavBlocked:n}}))},setTestModeEnabled:function(n){return t((function(){return{testModeEnabled:n}}))},updateIntegrationsFlyoutState:function(n){return t((function(t){return{integrationsFlyoutState:y(y({},t.integrationsFlyoutState),n)}}))},updateIntegrationStatus:function(n,e){var i=e.activated,o=e.configured,r=e.enabled,a=e.is_primary,s=e.is_backup;return t((0,g.immer)((function(t){var e=t.integrations.find((function(t){return t.id===n}));e&&(e.data||(e.data={}),void 0!==i&&(e.data.activated=i),void 0!==o&&(e.data.configured=o),void 0!==r&&(e.data.enabled=r),void 0!==a&&(e.data.is_primary=a),void 0!==s&&(e.data.is_backup=s))})))},updateSettingsFlyoutProps:function(n){return t((function(t){return{settingsFlyoutProps:y(y({},t.settingsFlyoutProps),n)}}))}}}));n.default=F}}]);